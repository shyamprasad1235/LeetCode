int diameter;
int depth(struct TreeNode* root) {
    if (root == NULL) return 0;

    int left = depth(root->left);
    int right = depth(root->right);

    if (left + right > diameter)
        diameter = left + right;   

    return (left > right ? left : right) + 1; 

int diameterOfBinaryTree(struct TreeNode* root) {
    diameter = 0;
    depth(root);
    return diameter;
}

